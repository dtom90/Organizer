{"version":3,"sources":["webpack:///./node_modules/chartjs-plugin-annotation/src/events.js","webpack:///./node_modules/chartjs-plugin-annotation/src/types/box.js","webpack:///./node_modules/clamp/index.js","webpack:///./node_modules/chartjs-plugin-annotation/src/index.js","webpack:///./node_modules/chartjs-plugin-annotation/src/annotation.js","webpack:///./node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.js","webpack:///./node_modules/chartjs-plugin-annotation/src/types/line.js","webpack:///./node_modules/chartjs-plugin-annotation/src/helpers.js","webpack:///./node_modules/chartjs-plugin-annotation/src/element.js"],"names":["module","exports","Chart","chartHelpers","helpers","collapseHoverEvents","events","hover","filteredEvents","filter","eventName","indexOf","push","dispatcher","e","ns","this","annotation","elements","position","getRelativePosition","chart","element","getNearestItems","options","dblClickSpeed","eventHandlers","eventHandlerName","getEventHandlerName","type","hovering","forEach","hoverEvent","createMouseEvent","onDblclick","onClick","clearTimeout","clickTimeout","setTimeout","call","stopImmediatePropagation","preventDefault","length","eventHandler","BoxAnnotation","Annotation","Element","extend","setDataLimits","model","_model","chartInstance","xScale","scales","xScaleID","yScale","yScaleID","chartArea","ranges","min","max","isValid","xMin","getPixelForValue","left","xMax","right","Math","yMin","bottom","yMax","top","configure","clip","x1","x2","y1","y2","borderColor","borderWidth","backgroundColor","inRange","mouseX","mouseY","getCenterPoint","x","y","getWidth","abs","getHeight","getArea","draw","view","_view","ctx","save","beginPath","rect","lineWidth","strokeStyle","fillStyle","width","height","fillRect","strokeRect","restore","clamp","value","window","drawTimeOptions","afterDraw","afterDatasetsDraw","beforeDatasetsDraw","defaults","drawTime","annotations","labelDefaults","fontFamily","global","defaultFontFamily","fontSize","defaultFontSize","fontStyle","fontColor","xPadding","yPadding","cornerRadius","xAdjust","yAdjust","enabled","content","types","line","box","annotationPlugin","pluginService","register","annotationTypes","setAfterDataLimitsHook","axisOptions","decorate","previous","scale","adjustScaleRange","easingDecimal","defaultDrawTime","transition","beforeInit","chartOptions","initConfig","onDestroy","firstRun","supported","ensureScalesHaveIDs","each","xAxes","yAxes","beforeUpdate","elementIds","id","objectId","cls","initialize","Object","keys","destroy","afterScaleUpdate","afterInit","watchFor","isArray","canvas","bind","addEvent","removeEvent","deregisterers","pop","factory","hasOwnProperty","devicePixelRatio","screen","deviceXDPI","logicalXDPI","utils","toTextLines","inputs","input","lines","concat","unshift","apply","split","Array","isNullOrUndef","toFontString","font","size","family","style","weight","textSize","i","items","ilen","prev","string","measureText","lineHeight","parseFont","valueOrDefault","toLineHeight","defaultFontStyle","bound","arrayDiff","a0","a1","j","v","slice","updates","splice","rasterize","round","orient","point","origin","x0","y0","dx","dy","ln","sqrt","aligned","vx","vy","align","PI","cos","sin","R_INSIDE","R_LEFT","R_RIGHT","R_BOTTOM","R_TOP","region","res","clipped","segment","area","r","r0","r1","compute","range","config","anchor","positioners","arc","vm","angle","startAngle","endAngle","innerRadius","outerRadius","rx","radius","ry","sx","sy","horizontal","base","fallback","helpers$1","boundingRects","padding","th","tw","tx","ty","frame","w","h","text","getScaleOrigin","el","_scale","_xScale","_yScale","undefined","xCenter","yCenter","pixel","getBasePixel","getPositioner","Arc","Point","Rectangle","drawFrame","bgColor","roundedRect","borderRadius","closePath","fill","lineJoin","stroke","textGeometry","drawTextLine","cfg","shadow","shadowBlur","stroked","strokeText","filled","fillText","drawText","textAlign","color","strokeColor","textStrokeColor","strokeWidth","textStrokeWidth","textBaseline","textShadowBlur","shadowColor","textShadowColor","Label","index","me","_config","_index","_rects","_ctx","_el","prototype","_modelize","display","context","resolve","defaultFontColor","offset","opacity","toPadding","positioner","rotation","update","label","rects","dataset","data","callback","formatter","geometry","visible","center","globalAlpha","translate","rotate","helpers$2","MIN_INTEGER","Number","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","rotated","cx","cy","projected","points","axis","pt","dp","toAxis","p0","p1","HitBox","_rotation","_rect","coordinates","vs","collide","labels","collider","s0","s1","$layout","_visible","_box","intersects","compute$1","state","h0","_hidable","h1","contains","margin","other","pr0","pr1","_points","axes","layout","prepare","datasets","jlen","_set","_idx","sort","a","b","sa","sb","dirty","lookup","helpers$3","klen","k","isObject","listeners","helpers$4","EXPANDO_KEY","override","datalabels","merge","dispatchEvent","target","$context","_dirty","dispatchMoveEvents","enter","leave","handleMoveEvents","event","expando","_listeners","_labels","_hovered","handleClickEvents","handlers","click","invalidate","animating","animations","animationService","render","duration","lazy","plugins","plugin","_actives","_listened","_datasets","afterDatasetUpdate","args","datasetIndex","isDatasetVisible","meta","hidden","skip","active","dataIndex","merger","key","source","afterUpdate","beforeEvent","afterEvent","actives","lastActive","horizontalKeyword","verticalKeyword","LineAnnotation","scaleID","endValue","endPixel","NaN","isNaN","mode","LineFunction","labelBackgroundColor","labelFontFamily","labelFontSize","labelFontStyle","labelFontColor","labelXPadding","labelYPadding","labelCornerRadius","labelPosition","labelXAdjust","labelYAdjust","labelEnabled","labelContent","fontString","textWidth","textHeight","calculateLabelPosition","labelX","labelY","labelWidth","labelHeight","borderDash","borderDashOffset","pow","setLineDash","lineDashOffset","moveTo","lineTo","drawRoundedRectangle","m","getX","getY","epsilon","isFinite","padWidth","padHeight","ret","xa","ya","noop","map","random","toString","substr","rawValue","obj","prop","func","prefix","arguments","callEach","fns","method","fn","toUpperCase","substring","previousEvent","MouseEvent","exception","document","createEvent","initMouseEvent","canBubble","cancelable","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","exception2","initEvent","configMerge","getScaleLimits","scaleId","scaleMin","scaleMax","reduce","ticks","suggestedMin","suggestedMax","handleTickRangeOptions","minDistance","POSITIVE_INFINITY","nearestItems","distance","distanceBetweenPoints","sizeA","sizeB","AnnotationElement","clone"],"mappings":"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","file":"js/chunk-vendors~739cf782.455604b0.js","sourcesContent":["module.exports = function(Chart) {\n\tvar chartHelpers = Chart.helpers;\n\tvar helpers = require('./helpers.js')(Chart);\n\n\tfunction collapseHoverEvents(events) {\n\t\tvar hover = false;\n\t\tvar filteredEvents = events.filter(function(eventName) {\n\t\t\tswitch (eventName) {\n\t\t\t\tcase 'mouseenter':\n\t\t\t\tcase 'mouseover':\n\t\t\t\tcase 'mouseout':\n\t\t\t\tcase 'mouseleave':\n\t\t\t\t\thover = true;\n\t\t\t\t\treturn false;\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\tif (hover && filteredEvents.indexOf('mousemove') === -1) {\n\t\t\tfilteredEvents.push('mousemove');\n\t\t}\n\t\treturn filteredEvents;\n\t}\n\n\tfunction dispatcher(e) {\n\t\tvar ns = this.annotation;\n\t\tvar elements = helpers.elements(this);\n\t\tvar position = chartHelpers.getRelativePosition(e, this.chart);\n\t\tvar element = helpers.getNearestItems(elements, position);\n\t\tvar events = collapseHoverEvents(ns.options.events);\n\t\tvar dblClickSpeed = ns.options.dblClickSpeed;\n\t\tvar eventHandlers = [];\n\t\tvar eventHandlerName = helpers.getEventHandlerName(e.type);\n\t\tvar options = (element || {}).options;\n\n\t\t// Detect hover events\n\t\tif (e.type === 'mousemove') {\n\t\t\tif (element && !element.hovering) {\n\t\t\t\t// hover started\n\t\t\t\t['mouseenter', 'mouseover'].forEach(function(eventName) {\n\t\t\t\t\tvar eventHandlerName = helpers.getEventHandlerName(eventName);\n\t\t\t\t\tvar hoverEvent = helpers.createMouseEvent(eventName, e); // recreate the event to match the handler\n\t\t\t\t\telement.hovering = true;\n\t\t\t\t\tif (typeof options[eventHandlerName] === 'function') {\n\t\t\t\t\t\teventHandlers.push([ options[eventHandlerName], hoverEvent, element ]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (!element) {\n\t\t\t\t// hover ended\n\t\t\t\telements.forEach(function(element) {\n\t\t\t\t\tif (element.hovering) {\n\t\t\t\t\t\telement.hovering = false;\n\t\t\t\t\t\tvar options = element.options;\n\t\t\t\t\t\t['mouseout', 'mouseleave'].forEach(function(eventName) {\n\t\t\t\t\t\t\tvar eventHandlerName = helpers.getEventHandlerName(eventName);\n\t\t\t\t\t\t\tvar hoverEvent = helpers.createMouseEvent(eventName, e); // recreate the event to match the handler\n\t\t\t\t\t\t\tif (typeof options[eventHandlerName] === 'function') {\n\t\t\t\t\t\t\t\teventHandlers.push([ options[eventHandlerName], hoverEvent, element ]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Suppress duplicate click events during a double click\n\t\t// 1. click -> 2. click -> 3. dblclick\n\t\t//\n\t\t// 1: wait dblClickSpeed ms, then fire click\n\t\t// 2: cancel (1) if it is waiting then wait dblClickSpeed ms then fire click, else fire click immediately\n\t\t// 3: cancel (1) or (2) if waiting, then fire dblclick \n\t\tif (element && events.indexOf('dblclick') > -1 && typeof options.onDblclick === 'function') {\n\t\t\tif (e.type === 'click' && typeof options.onClick === 'function') {\n\t\t\t\tclearTimeout(element.clickTimeout);\n\t\t\t\telement.clickTimeout = setTimeout(function() {\n\t\t\t\t\tdelete element.clickTimeout;\n\t\t\t\t\toptions.onClick.call(element, e);\n\t\t\t\t}, dblClickSpeed);\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else if (e.type === 'dblclick' && element.clickTimeout) {\n\t\t\t\tclearTimeout(element.clickTimeout);\n\t\t\t\tdelete element.clickTimeout;\n\t\t\t}\n\t\t}\n\n\t\t// Dispatch the event to the usual handler, but only if we haven't substituted it\n\t\tif (element && typeof options[eventHandlerName] === 'function' && eventHandlers.length === 0) {\n\t\t\teventHandlers.push([ options[eventHandlerName], e, element ]);\n\t\t}\n\n\t\tif (eventHandlers.length > 0) {\n\t\t\te.stopImmediatePropagation();\n\t\t\te.preventDefault();\n\t\t\teventHandlers.forEach(function(eventHandler) {\n\t\t\t\t// [handler, event, element]\n\t\t\t\teventHandler[0].call(eventHandler[2], eventHandler[1]);\n\t\t\t});\n\t\t}\n\t}\n\n\treturn {\n\t\tdispatcher: dispatcher,\n\t\tcollapseHoverEvents: collapseHoverEvents\n\t};\n};\n","// Box Annotation implementation\nmodule.exports = function(Chart) {\n\tvar helpers = require('../helpers.js')(Chart);\n\t\n\tvar BoxAnnotation = Chart.Annotation.Element.extend({\n\t\tsetDataLimits: function() {\n\t\t\tvar model = this._model;\n\t\t\tvar options = this.options;\n\t\t\tvar chartInstance = this.chartInstance;\n\n\t\t\tvar xScale = chartInstance.scales[options.xScaleID];\n\t\t\tvar yScale = chartInstance.scales[options.yScaleID];\n\t\t\tvar chartArea = chartInstance.chartArea;\n\n\t\t\t// Set the data range for this annotation\n\t\t\tmodel.ranges = {};\n\t\t\t\n\t\t\tif (!chartArea) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar min = 0;\n\t\t\tvar max = 0;\n\t\t\t\n\t\t\tif (xScale) {\n\t\t\t\tmin = helpers.isValid(options.xMin) ? options.xMin : xScale.getPixelForValue(chartArea.left);\n\t\t\t\tmax = helpers.isValid(options.xMax) ? options.xMax : xScale.getPixelForValue(chartArea.right);\n\n\t\t\t\tmodel.ranges[options.xScaleID] = {\n\t\t\t\t\tmin: Math.min(min, max),\n\t\t\t\t\tmax: Math.max(min, max)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (yScale) {\n\t\t\t\tmin = helpers.isValid(options.yMin) ? options.yMin : yScale.getPixelForValue(chartArea.bottom);\n\t\t\t\tmax = helpers.isValid(options.yMax) ? options.yMax : yScale.getPixelForValue(chartArea.top);\n\n\t\t\t\tmodel.ranges[options.yScaleID] = {\n\t\t\t\t\tmin: Math.min(min, max),\n\t\t\t\t\tmax: Math.max(min, max)\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tconfigure: function() {\n\t\t\tvar model = this._model;\n\t\t\tvar options = this.options;\n\t\t\tvar chartInstance = this.chartInstance;\n\n\t\t\tvar xScale = chartInstance.scales[options.xScaleID];\n\t\t\tvar yScale = chartInstance.scales[options.yScaleID];\n\t\t\tvar chartArea = chartInstance.chartArea;\n\n\t\t\t// clip annotations to the chart area\n\t\t\tmodel.clip = {\n\t\t\t\tx1: chartArea.left,\n\t\t\t\tx2: chartArea.right,\n\t\t\t\ty1: chartArea.top,\n\t\t\t\ty2: chartArea.bottom\n\t\t\t};\n\n\t\t\tvar left = chartArea.left, \n\t\t\t\ttop = chartArea.top, \n\t\t\t\tright = chartArea.right, \n\t\t\t\tbottom = chartArea.bottom;\n\n\t\t\tvar min, max;\n\n\t\t\tif (xScale) {\n\t\t\t\tmin = helpers.isValid(options.xMin) ? xScale.getPixelForValue(options.xMin) : chartArea.left;\n\t\t\t\tmax = helpers.isValid(options.xMax) ? xScale.getPixelForValue(options.xMax) : chartArea.right;\n\t\t\t\tleft = Math.min(min, max);\n\t\t\t\tright = Math.max(min, max);\n\t\t\t}\n\n\t\t\tif (yScale) {\n\t\t\t\tmin = helpers.isValid(options.yMin) ? yScale.getPixelForValue(options.yMin) : chartArea.bottom;\n\t\t\t\tmax = helpers.isValid(options.yMax) ? yScale.getPixelForValue(options.yMax) : chartArea.top;\n\t\t\t\ttop = Math.min(min, max);\n\t\t\t\tbottom = Math.max(min, max);\n\t\t\t}\n\n\t\t\t// Ensure model has rect coordinates\n\t\t\tmodel.left = left;\n\t\t\tmodel.top = top;\n\t\t\tmodel.right = right;\n\t\t\tmodel.bottom = bottom;\n\n\t\t\t// Stylistic options\n\t\t\tmodel.borderColor = options.borderColor;\n\t\t\tmodel.borderWidth = options.borderWidth;\n\t\t\tmodel.backgroundColor = options.backgroundColor;\n\t\t},\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar model = this._model;\n\t\t\treturn model &&\n\t\t\t\tmouseX >= model.left && \n\t\t\t\tmouseX <= model.right && \n\t\t\t\tmouseY >= model.top && \n\t\t\t\tmouseY <= model.bottom;\n\t\t},\n\t\tgetCenterPoint: function() {\n\t\t\tvar model = this._model;\n\t\t\treturn {\n\t\t\t\tx: (model.right + model.left) / 2,\n\t\t\t\ty: (model.bottom + model.top) / 2\n\t\t\t};\n\t\t},\n\t\tgetWidth: function() {\n\t\t\tvar model = this._model;\n\t\t\treturn Math.abs(model.right - model.left);\n\t\t},\n\t\tgetHeight: function() {\n\t\t\tvar model = this._model;\n\t\t\treturn Math.abs(model.bottom - model.top);\n\t\t},\n\t\tgetArea: function() {\n\t\t\treturn this.getWidth() * this.getHeight();\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar view = this._view;\n\t\t\tvar ctx = this.chartInstance.chart.ctx;\n\n\t\t\tctx.save();\n\n\t\t\t// Canvas setup\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(view.clip.x1, view.clip.y1, view.clip.x2 - view.clip.x1, view.clip.y2 - view.clip.y1);\n\t\t\tctx.clip();\n\n\t\t\tctx.lineWidth = view.borderWidth;\n\t\t\tctx.strokeStyle = view.borderColor;\n\t\t\tctx.fillStyle = view.backgroundColor;\n\n\t\t\t// Draw\n\t\t\tvar width = view.right - view.left,\n\t\t\t\theight = view.bottom - view.top;\n\t\t\tctx.fillRect(view.left, view.top, width, height);\n\t\t\tctx.strokeRect(view.left, view.top, width, height);\n\n\t\t\tctx.restore();\n\t\t}\n\t});\n\n\treturn BoxAnnotation;\n};\n","module.exports = clamp\n\nfunction clamp(value, min, max) {\n  return min < max\n    ? (value < min ? min : value > max ? max : value)\n    : (value < max ? max : value > min ? min : value)\n}\n","// Get the chart variable\nvar Chart = require('chart.js');\nChart = typeof(Chart) === 'function' ? Chart : window.Chart;\n\n// Configure plugin namespace\nChart.Annotation = Chart.Annotation || {};\n\nChart.Annotation.drawTimeOptions = {\n\tafterDraw: 'afterDraw',\n\tafterDatasetsDraw: 'afterDatasetsDraw',\n\tbeforeDatasetsDraw: 'beforeDatasetsDraw'\n};\n\nChart.Annotation.defaults = {\n\tdrawTime: 'afterDatasetsDraw',\n\tdblClickSpeed: 350, // ms\n\tevents: [],\n\tannotations: []\n};\n\nChart.Annotation.labelDefaults = {\n\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\tfontFamily: Chart.defaults.global.defaultFontFamily,\n\tfontSize: Chart.defaults.global.defaultFontSize,\n\tfontStyle: 'bold',\n\tfontColor: '#fff',\n\txPadding: 6,\n\tyPadding: 6,\n\tcornerRadius: 6,\n\tposition: 'center',\n\txAdjust: 0,\n\tyAdjust: 0,\n\tenabled: false,\n\tcontent: null\n};\n\nChart.Annotation.Element = require('./element.js')(Chart);\n\nChart.Annotation.types = {\n\tline: require('./types/line.js')(Chart),\n\tbox: require('./types/box.js')(Chart)\n};\n\nvar annotationPlugin = require('./annotation.js')(Chart);\n\nmodule.exports = annotationPlugin;\nChart.pluginService.register(annotationPlugin);\n","module.exports = function(Chart) {\n\tvar chartHelpers = Chart.helpers;\n\n\tvar helpers = require('./helpers.js')(Chart);\n\tvar events = require('./events.js')(Chart);\n\n\tvar annotationTypes = Chart.Annotation.types;\n\n\tfunction setAfterDataLimitsHook(axisOptions) {\n\t\thelpers.decorate(axisOptions, 'afterDataLimits', function(previous, scale) {\n\t\t\tif (previous) previous(scale);\n\t\t\thelpers.adjustScaleRange(scale);\n\t\t});\n\t}\n\n\tfunction draw(drawTime) {\n\t\treturn function(chartInstance, easingDecimal) {\n\t\t\tvar defaultDrawTime = chartInstance.annotation.options.drawTime;\n\n\t\t\thelpers.elements(chartInstance)\n\t\t\t\t.filter(function(element) {\n\t\t\t\t\treturn drawTime === (element.options.drawTime || defaultDrawTime);\n\t\t\t\t})\n\t\t\t\t.forEach(function(element) {\n\t\t\t\t\telement.transition(easingDecimal).draw();\n\t\t\t\t});\n\t\t};\n\t}\n\n\treturn {\n\t\tbeforeInit: function(chartInstance) {\n\t\t\tvar chartOptions = chartInstance.options;\n\n\t\t\t// Initialize chart instance plugin namespace\n\t\t\tvar ns = chartInstance.annotation = {\n\t\t\t\telements: {},\n\t\t\t\toptions: helpers.initConfig(chartOptions.annotation || {}),\n\t\t\t\tonDestroy: [],\n\t\t\t\tfirstRun: true,\n\t\t\t\tsupported: false\n\t\t\t};\n\n\t\t\t// Add the annotation scale adjuster to each scale's afterDataLimits hook\n\t\t\tchartInstance.ensureScalesHaveIDs();\n\t\t\tif (chartOptions.scales) {\n\t\t\t\tns.supported = true;\n\t\t\t\tchartHelpers.each(chartOptions.scales.xAxes, setAfterDataLimitsHook);\n\t\t\t\tchartHelpers.each(chartOptions.scales.yAxes, setAfterDataLimitsHook);\n\t\t\t}\n\t\t},\n\t\tbeforeUpdate: function(chartInstance) {\n\t\t\tvar ns = chartInstance.annotation;\n\n\t\t\tif (!ns.supported) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!ns.firstRun) {\n\t\t\t\tns.options = helpers.initConfig(chartInstance.options.annotation || {});\n\t\t\t} else {\n\t\t\t\tns.firstRun = false;\n\t\t\t}\n\n\t\t\tvar elementIds = [];\n\n\t\t\t// Add new elements, or update existing ones\n\t\t\tns.options.annotations.forEach(function(annotation) {\n\t\t\t\tvar id = annotation.id || helpers.objectId();\n\t\t\t\t\n\t\t\t\t// No element with that ID exists, and it's a valid annotation type\n\t\t\t\tif (!ns.elements[id] && annotationTypes[annotation.type]) {\n\t\t\t\t\tvar cls = annotationTypes[annotation.type];\n\t\t\t\t\tvar element = new cls({\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\toptions: annotation,\n\t\t\t\t\t\tchartInstance: chartInstance,\n\t\t\t\t\t});\n\t\t\t\t\telement.initialize();\n\t\t\t\t\tns.elements[id] = element;\n\t\t\t\t\tannotation.id = id;\n\t\t\t\t\telementIds.push(id);\n\t\t\t\t} else if (ns.elements[id]) {\n\t\t\t\t\t// Nothing to do for update, since the element config references\n\t\t\t\t\t// the same object that exists in the chart annotation config\n\t\t\t\t\telementIds.push(id);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Delete removed elements\n\t\t\tObject.keys(ns.elements).forEach(function(id) {\n\t\t\t\tif (elementIds.indexOf(id) === -1) {\n\t\t\t\t\tns.elements[id].destroy();\n\t\t\t\t\tdelete ns.elements[id];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tafterScaleUpdate: function(chartInstance) {\n\t\t\thelpers.elements(chartInstance).forEach(function(element) {\n\t\t\t\telement.configure();\n\t\t\t});\n\t\t},\n\t\tbeforeDatasetsDraw: draw('beforeDatasetsDraw'),\n\t\tafterDatasetsDraw: draw('afterDatasetsDraw'),\n\t\tafterDraw: draw('afterDraw'),\n\t\tafterInit: function(chartInstance) {\n\t\t\t// Detect and intercept events that happen on an annotation element\n\t\t\tvar watchFor = chartInstance.annotation.options.events;\n\t\t\tif (chartHelpers.isArray(watchFor) && watchFor.length > 0) {\n\t\t\t\tvar canvas = chartInstance.chart.canvas;\n\t\t\t\tvar eventHandler = events.dispatcher.bind(chartInstance);\n\t\t\t\tevents.collapseHoverEvents(watchFor).forEach(function(eventName) {\n\t\t\t\t\tchartHelpers.addEvent(canvas, eventName, eventHandler);\n\t\t\t\t\tchartInstance.annotation.onDestroy.push(function() {\n\t\t\t\t\t\tchartHelpers.removeEvent(canvas, eventName, eventHandler);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdestroy: function(chartInstance) {\n\t\t\tvar deregisterers = chartInstance.annotation.onDestroy;\n\t\t\twhile (deregisterers.length > 0) {\n\t\t\t\tderegisterers.pop()();\n\t\t\t}\n\t\t}\n\t};\n};\n","/*!\n * chartjs-plugin-datalabels v0.6.0\n * https://chartjs-plugin-datalabels.netlify.com\n * (c) 2019 Chart.js Contributors\n * Released under the MIT license\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) :\ntypeof define === 'function' && define.amd ? define(['chart.js'], factory) :\n(global = global || self, global.ChartDataLabels = factory(global.Chart));\n}(this, function (Chart) { 'use strict';\n\nChart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n\nvar helpers = Chart.helpers;\n\nvar devicePixelRatio = (function() {\n\tif (typeof window !== 'undefined') {\n\t\tif (window.devicePixelRatio) {\n\t\t\treturn window.devicePixelRatio;\n\t\t}\n\n\t\t// devicePixelRatio is undefined on IE10\n\t\t// https://stackoverflow.com/a/20204180/8837887\n\t\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n\t\tvar screen = window.screen;\n\t\tif (screen) {\n\t\t\treturn (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n\t\t}\n\t}\n\n\treturn 1;\n}());\n\nvar utils = {\n\t// @todo move this in Chart.helpers.toTextLines\n\ttoTextLines: function(inputs) {\n\t\tvar lines = [];\n\t\tvar input;\n\n\t\tinputs = [].concat(inputs);\n\t\twhile (inputs.length) {\n\t\t\tinput = inputs.pop();\n\t\t\tif (typeof input === 'string') {\n\t\t\t\tlines.unshift.apply(lines, input.split('\\n'));\n\t\t\t} else if (Array.isArray(input)) {\n\t\t\t\tinputs.push.apply(inputs, input);\n\t\t\t} else if (!helpers.isNullOrUndef(inputs)) {\n\t\t\t\tlines.unshift('' + input);\n\t\t\t}\n\t\t}\n\n\t\treturn lines;\n\t},\n\n\t// @todo move this method in Chart.helpers.canvas.toFont (deprecates helpers.fontString)\n\t// @see https://developer.mozilla.org/en-US/docs/Web/CSS/font\n\ttoFontString: function(font) {\n\t\tif (!font || helpers.isNullOrUndef(font.size) || helpers.isNullOrUndef(font.family)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (font.style ? font.style + ' ' : '')\n\t\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t\t+ font.size + 'px '\n\t\t\t+ font.family;\n\t},\n\n\t// @todo move this in Chart.helpers.canvas.textSize\n\t// @todo cache calls of measureText if font doesn't change?!\n\ttextSize: function(ctx, lines, font) {\n\t\tvar items = [].concat(lines);\n\t\tvar ilen = items.length;\n\t\tvar prev = ctx.font;\n\t\tvar width = 0;\n\t\tvar i;\n\n\t\tctx.font = font.string;\n\n\t\tfor (i = 0; i < ilen; ++i) {\n\t\t\twidth = Math.max(ctx.measureText(items[i]).width, width);\n\t\t}\n\n\t\tctx.font = prev;\n\n\t\treturn {\n\t\t\theight: ilen * font.lineHeight,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\t// @todo move this method in Chart.helpers.options.toFont\n\tparseFont: function(value) {\n\t\tvar global = Chart.defaults.global;\n\t\tvar size = helpers.valueOrDefault(value.size, global.defaultFontSize);\n\t\tvar font = {\n\t\t\tfamily: helpers.valueOrDefault(value.family, global.defaultFontFamily),\n\t\t\tlineHeight: helpers.options.toLineHeight(value.lineHeight, size),\n\t\t\tsize: size,\n\t\t\tstyle: helpers.valueOrDefault(value.style, global.defaultFontStyle),\n\t\t\tweight: helpers.valueOrDefault(value.weight, null),\n\t\t\tstring: ''\n\t\t};\n\n\t\tfont.string = utils.toFontString(font);\n\t\treturn font;\n\t},\n\n\t/**\n\t * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n\t * @todo move this method in Chart.helpers.bound\n\t * https://doc.qt.io/qt-5/qtglobal.html#qBound\n\t */\n\tbound: function(min, value, max) {\n\t\treturn Math.max(min, Math.min(value, max));\n\t},\n\n\t/**\n\t * Returns an array of pair [value, state] where state is:\n\t * * -1: value is only in a0 (removed)\n\t * *  1: value is only in a1 (added)\n\t */\n\tarrayDiff: function(a0, a1) {\n\t\tvar prev = a0.slice();\n\t\tvar updates = [];\n\t\tvar i, j, ilen, v;\n\n\t\tfor (i = 0, ilen = a1.length; i < ilen; ++i) {\n\t\t\tv = a1[i];\n\t\t\tj = prev.indexOf(v);\n\n\t\t\tif (j === -1) {\n\t\t\t\tupdates.push([v, 1]);\n\t\t\t} else {\n\t\t\t\tprev.splice(j, 1);\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, ilen = prev.length; i < ilen; ++i) {\n\t\t\tupdates.push([prev[i], -1]);\n\t\t}\n\n\t\treturn updates;\n\t},\n\n\t/**\n\t * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n\t */\n\trasterize: function(v) {\n\t\treturn Math.round(v * devicePixelRatio) / devicePixelRatio;\n\t}\n};\n\nfunction orient(point, origin) {\n\tvar x0 = origin.x;\n\tvar y0 = origin.y;\n\n\tif (x0 === null) {\n\t\treturn {x: 0, y: -1};\n\t}\n\tif (y0 === null) {\n\t\treturn {x: 1, y: 0};\n\t}\n\n\tvar dx = point.x - x0;\n\tvar dy = point.y - y0;\n\tvar ln = Math.sqrt(dx * dx + dy * dy);\n\n\treturn {\n\t\tx: ln ? dx / ln : 0,\n\t\ty: ln ? dy / ln : -1\n\t};\n}\n\nfunction aligned(x, y, vx, vy, align) {\n\tswitch (align) {\n\tcase 'center':\n\t\tvx = vy = 0;\n\t\tbreak;\n\tcase 'bottom':\n\t\tvx = 0;\n\t\tvy = 1;\n\t\tbreak;\n\tcase 'right':\n\t\tvx = 1;\n\t\tvy = 0;\n\t\tbreak;\n\tcase 'left':\n\t\tvx = -1;\n\t\tvy = 0;\n\t\tbreak;\n\tcase 'top':\n\t\tvx = 0;\n\t\tvy = -1;\n\t\tbreak;\n\tcase 'start':\n\t\tvx = -vx;\n\t\tvy = -vy;\n\t\tbreak;\n\tcase 'end':\n\t\t// keep natural orientation\n\t\tbreak;\n\tdefault:\n\t\t// clockwise rotation (in degree)\n\t\talign *= (Math.PI / 180);\n\t\tvx = Math.cos(align);\n\t\tvy = Math.sin(align);\n\t\tbreak;\n\t}\n\n\treturn {\n\t\tx: x,\n\t\ty: y,\n\t\tvx: vx,\n\t\tvy: vy\n\t};\n}\n\n// Line clipping (Cohen–Sutherland algorithm)\n// https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm\n\nvar R_INSIDE = 0;\nvar R_LEFT = 1;\nvar R_RIGHT = 2;\nvar R_BOTTOM = 4;\nvar R_TOP = 8;\n\nfunction region(x, y, rect) {\n\tvar res = R_INSIDE;\n\n\tif (x < rect.left) {\n\t\tres |= R_LEFT;\n\t} else if (x > rect.right) {\n\t\tres |= R_RIGHT;\n\t}\n\tif (y < rect.top) {\n\t\tres |= R_TOP;\n\t} else if (y > rect.bottom) {\n\t\tres |= R_BOTTOM;\n\t}\n\n\treturn res;\n}\n\nfunction clipped(segment, area) {\n\tvar x0 = segment.x0;\n\tvar y0 = segment.y0;\n\tvar x1 = segment.x1;\n\tvar y1 = segment.y1;\n\tvar r0 = region(x0, y0, area);\n\tvar r1 = region(x1, y1, area);\n\tvar r, x, y;\n\n\t// eslint-disable-next-line no-constant-condition\n\twhile (true) {\n\t\tif (!(r0 | r1) || (r0 & r1)) {\n\t\t\t// both points inside or on the same side: no clipping\n\t\t\tbreak;\n\t\t}\n\n\t\t// at least one point is outside\n\t\tr = r0 || r1;\n\n\t\tif (r & R_TOP) {\n\t\t\tx = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n\t\t\ty = area.top;\n\t\t} else if (r & R_BOTTOM) {\n\t\t\tx = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n\t\t\ty = area.bottom;\n\t\t} else if (r & R_RIGHT) {\n\t\t\ty = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n\t\t\tx = area.right;\n\t\t} else if (r & R_LEFT) {\n\t\t\ty = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n\t\t\tx = area.left;\n\t\t}\n\n\t\tif (r === r0) {\n\t\t\tx0 = x;\n\t\t\ty0 = y;\n\t\t\tr0 = region(x0, y0, area);\n\t\t} else {\n\t\t\tx1 = x;\n\t\t\ty1 = y;\n\t\t\tr1 = region(x1, y1, area);\n\t\t}\n\t}\n\n\treturn {\n\t\tx0: x0,\n\t\tx1: x1,\n\t\ty0: y0,\n\t\ty1: y1\n\t};\n}\n\nfunction compute(range, config) {\n\tvar anchor = config.anchor;\n\tvar segment = range;\n\tvar x, y;\n\n\tif (config.clamp) {\n\t\tsegment = clipped(segment, config.area);\n\t}\n\n\tif (anchor === 'start') {\n\t\tx = segment.x0;\n\t\ty = segment.y0;\n\t} else if (anchor === 'end') {\n\t\tx = segment.x1;\n\t\ty = segment.y1;\n\t} else {\n\t\tx = (segment.x0 + segment.x1) / 2;\n\t\ty = (segment.y0 + segment.y1) / 2;\n\t}\n\n\treturn aligned(x, y, range.vx, range.vy, config.align);\n}\n\nvar positioners = {\n\tarc: function(vm, config) {\n\t\tvar angle = (vm.startAngle + vm.endAngle) / 2;\n\t\tvar vx = Math.cos(angle);\n\t\tvar vy = Math.sin(angle);\n\t\tvar r0 = vm.innerRadius;\n\t\tvar r1 = vm.outerRadius;\n\n\t\treturn compute({\n\t\t\tx0: vm.x + vx * r0,\n\t\t\ty0: vm.y + vy * r0,\n\t\t\tx1: vm.x + vx * r1,\n\t\t\ty1: vm.y + vy * r1,\n\t\t\tvx: vx,\n\t\t\tvy: vy\n\t\t}, config);\n\t},\n\n\tpoint: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\t\tvar rx = v.x * vm.radius;\n\t\tvar ry = v.y * vm.radius;\n\n\t\treturn compute({\n\t\t\tx0: vm.x - rx,\n\t\t\ty0: vm.y - ry,\n\t\t\tx1: vm.x + rx,\n\t\t\ty1: vm.y + ry,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t},\n\n\trect: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\t\tvar x = vm.x;\n\t\tvar y = vm.y;\n\t\tvar sx = 0;\n\t\tvar sy = 0;\n\n\t\tif (vm.horizontal) {\n\t\t\tx = Math.min(vm.x, vm.base);\n\t\t\tsx = Math.abs(vm.base - vm.x);\n\t\t} else {\n\t\t\ty = Math.min(vm.y, vm.base);\n\t\t\tsy = Math.abs(vm.base - vm.y);\n\t\t}\n\n\t\treturn compute({\n\t\t\tx0: x,\n\t\t\ty0: y + sy,\n\t\t\tx1: x + sx,\n\t\t\ty1: y,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t},\n\n\tfallback: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\n\t\treturn compute({\n\t\t\tx0: vm.x,\n\t\t\ty0: vm.y,\n\t\t\tx1: vm.x,\n\t\t\ty1: vm.y,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t}\n};\n\nvar helpers$1 = Chart.helpers;\nvar rasterize = utils.rasterize;\n\nfunction boundingRects(model) {\n\tvar borderWidth = model.borderWidth || 0;\n\tvar padding = model.padding;\n\tvar th = model.size.height;\n\tvar tw = model.size.width;\n\tvar tx = -tw / 2;\n\tvar ty = -th / 2;\n\n\treturn {\n\t\tframe: {\n\t\t\tx: tx - padding.left - borderWidth,\n\t\t\ty: ty - padding.top - borderWidth,\n\t\t\tw: tw + padding.width + borderWidth * 2,\n\t\t\th: th + padding.height + borderWidth * 2\n\t\t},\n\t\ttext: {\n\t\t\tx: tx,\n\t\t\ty: ty,\n\t\t\tw: tw,\n\t\t\th: th\n\t\t}\n\t};\n}\n\nfunction getScaleOrigin(el) {\n\tvar horizontal = el._model.horizontal;\n\tvar scale = el._scale || (horizontal && el._xScale) || el._yScale;\n\n\tif (!scale) {\n\t\treturn null;\n\t}\n\n\tif (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n\t\treturn {x: scale.xCenter, y: scale.yCenter};\n\t}\n\n\tvar pixel = scale.getBasePixel();\n\treturn horizontal ?\n\t\t{x: pixel, y: null} :\n\t\t{x: null, y: pixel};\n}\n\nfunction getPositioner(el) {\n\tif (el instanceof Chart.elements.Arc) {\n\t\treturn positioners.arc;\n\t}\n\tif (el instanceof Chart.elements.Point) {\n\t\treturn positioners.point;\n\t}\n\tif (el instanceof Chart.elements.Rectangle) {\n\t\treturn positioners.rect;\n\t}\n\treturn positioners.fallback;\n}\n\nfunction drawFrame(ctx, rect, model) {\n\tvar bgColor = model.backgroundColor;\n\tvar borderColor = model.borderColor;\n\tvar borderWidth = model.borderWidth;\n\n\tif (!bgColor && (!borderColor || !borderWidth)) {\n\t\treturn;\n\t}\n\n\tctx.beginPath();\n\n\thelpers$1.canvas.roundedRect(\n\t\tctx,\n\t\trasterize(rect.x) + borderWidth / 2,\n\t\trasterize(rect.y) + borderWidth / 2,\n\t\trasterize(rect.w) - borderWidth,\n\t\trasterize(rect.h) - borderWidth,\n\t\tmodel.borderRadius);\n\n\tctx.closePath();\n\n\tif (bgColor) {\n\t\tctx.fillStyle = bgColor;\n\t\tctx.fill();\n\t}\n\n\tif (borderColor && borderWidth) {\n\t\tctx.strokeStyle = borderColor;\n\t\tctx.lineWidth = borderWidth;\n\t\tctx.lineJoin = 'miter';\n\t\tctx.stroke();\n\t}\n}\n\nfunction textGeometry(rect, align, font) {\n\tvar h = font.lineHeight;\n\tvar w = rect.w;\n\tvar x = rect.x;\n\tvar y = rect.y + h / 2;\n\n\tif (align === 'center') {\n\t\tx += w / 2;\n\t} else if (align === 'end' || align === 'right') {\n\t\tx += w;\n\t}\n\n\treturn {\n\t\th: h,\n\t\tw: w,\n\t\tx: x,\n\t\ty: y\n\t};\n}\n\nfunction drawTextLine(ctx, text, cfg) {\n\tvar shadow = ctx.shadowBlur;\n\tvar stroked = cfg.stroked;\n\tvar x = rasterize(cfg.x);\n\tvar y = rasterize(cfg.y);\n\tvar w = rasterize(cfg.w);\n\n\tif (stroked) {\n\t\tctx.strokeText(text, x, y, w);\n\t}\n\n\tif (cfg.filled) {\n\t\tif (shadow && stroked) {\n\t\t\t// Prevent drawing shadow on both the text stroke and fill, so\n\t\t\t// if the text is stroked, remove the shadow for the text fill.\n\t\t\tctx.shadowBlur = 0;\n\t\t}\n\n\t\tctx.fillText(text, x, y, w);\n\n\t\tif (shadow && stroked) {\n\t\t\tctx.shadowBlur = shadow;\n\t\t}\n\t}\n}\n\nfunction drawText(ctx, lines, rect, model) {\n\tvar align = model.textAlign;\n\tvar color = model.color;\n\tvar filled = !!color;\n\tvar font = model.font;\n\tvar ilen = lines.length;\n\tvar strokeColor = model.textStrokeColor;\n\tvar strokeWidth = model.textStrokeWidth;\n\tvar stroked = strokeColor && strokeWidth;\n\tvar i;\n\n\tif (!ilen || (!filled && !stroked)) {\n\t\treturn;\n\t}\n\n\t// Adjust coordinates based on text alignment and line height\n\trect = textGeometry(rect, align, font);\n\n\tctx.font = font.string;\n\tctx.textAlign = align;\n\tctx.textBaseline = 'middle';\n\tctx.shadowBlur = model.textShadowBlur;\n\tctx.shadowColor = model.textShadowColor;\n\n\tif (filled) {\n\t\tctx.fillStyle = color;\n\t}\n\tif (stroked) {\n\t\tctx.lineJoin = 'round';\n\t\tctx.lineWidth = strokeWidth;\n\t\tctx.strokeStyle = strokeColor;\n\t}\n\n\tfor (i = 0, ilen = lines.length; i < ilen; ++i) {\n\t\tdrawTextLine(ctx, lines[i], {\n\t\t\tstroked: stroked,\n\t\t\tfilled: filled,\n\t\t\tw: rect.w,\n\t\t\tx: rect.x,\n\t\t\ty: rect.y + rect.h * i\n\t\t});\n\t}\n}\n\nvar Label = function(config, ctx, el, index) {\n\tvar me = this;\n\n\tme._config = config;\n\tme._index = index;\n\tme._model = null;\n\tme._rects = null;\n\tme._ctx = ctx;\n\tme._el = el;\n};\n\nhelpers$1.extend(Label.prototype, {\n\t/**\n\t * @private\n\t */\n\t_modelize: function(display, lines, config, context) {\n\t\tvar me = this;\n\t\tvar index = me._index;\n\t\tvar resolve = helpers$1.options.resolve;\n\t\tvar font = utils.parseFont(resolve([config.font, {}], context, index));\n\t\tvar color = resolve([config.color, Chart.defaults.global.defaultFontColor], context, index);\n\n\t\treturn {\n\t\t\talign: resolve([config.align, 'center'], context, index),\n\t\t\tanchor: resolve([config.anchor, 'center'], context, index),\n\t\t\tarea: context.chart.chartArea,\n\t\t\tbackgroundColor: resolve([config.backgroundColor, null], context, index),\n\t\t\tborderColor: resolve([config.borderColor, null], context, index),\n\t\t\tborderRadius: resolve([config.borderRadius, 0], context, index),\n\t\t\tborderWidth: resolve([config.borderWidth, 0], context, index),\n\t\t\tclamp: resolve([config.clamp, false], context, index),\n\t\t\tclip: resolve([config.clip, false], context, index),\n\t\t\tcolor: color,\n\t\t\tdisplay: display,\n\t\t\tfont: font,\n\t\t\tlines: lines,\n\t\t\toffset: resolve([config.offset, 0], context, index),\n\t\t\topacity: resolve([config.opacity, 1], context, index),\n\t\t\torigin: getScaleOrigin(me._el),\n\t\t\tpadding: helpers$1.options.toPadding(resolve([config.padding, 0], context, index)),\n\t\t\tpositioner: getPositioner(me._el),\n\t\t\trotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n\t\t\tsize: utils.textSize(me._ctx, lines, font),\n\t\t\ttextAlign: resolve([config.textAlign, 'start'], context, index),\n\t\t\ttextShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n\t\t\ttextShadowColor: resolve([config.textShadowColor, color], context, index),\n\t\t\ttextStrokeColor: resolve([config.textStrokeColor, color], context, index),\n\t\t\ttextStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n\t\t};\n\t},\n\n\tupdate: function(context) {\n\t\tvar me = this;\n\t\tvar model = null;\n\t\tvar rects = null;\n\t\tvar index = me._index;\n\t\tvar config = me._config;\n\t\tvar value, label, lines;\n\n\t\t// We first resolve the display option (separately) to avoid computing\n\t\t// other options in case the label is hidden (i.e. display: false).\n\t\tvar display = helpers$1.options.resolve([config.display, true], context, index);\n\n\t\tif (display) {\n\t\t\tvalue = context.dataset.data[index];\n\t\t\tlabel = helpers$1.valueOrDefault(helpers$1.callback(config.formatter, [value, context]), value);\n\t\t\tlines = helpers$1.isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n\t\t\tif (lines.length) {\n\t\t\t\tmodel = me._modelize(display, lines, config, context);\n\t\t\t\trects = boundingRects(model);\n\t\t\t}\n\t\t}\n\n\t\tme._model = model;\n\t\tme._rects = rects;\n\t},\n\n\tgeometry: function() {\n\t\treturn this._rects ? this._rects.frame : {};\n\t},\n\n\trotation: function() {\n\t\treturn this._model ? this._model.rotation : 0;\n\t},\n\n\tvisible: function() {\n\t\treturn this._model && this._model.opacity;\n\t},\n\n\tmodel: function() {\n\t\treturn this._model;\n\t},\n\n\tdraw: function(chart, center) {\n\t\tvar me = this;\n\t\tvar ctx = chart.ctx;\n\t\tvar model = me._model;\n\t\tvar rects = me._rects;\n\t\tvar area;\n\n\t\tif (!this.visible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tctx.save();\n\n\t\tif (model.clip) {\n\t\t\tarea = model.area;\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(\n\t\t\t\tarea.left,\n\t\t\t\tarea.top,\n\t\t\t\tarea.right - area.left,\n\t\t\t\tarea.bottom - area.top);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.globalAlpha = utils.bound(0, model.opacity, 1);\n\t\tctx.translate(rasterize(center.x), rasterize(center.y));\n\t\tctx.rotate(model.rotation);\n\n\t\tdrawFrame(ctx, rects.frame, model);\n\t\tdrawText(ctx, model.lines, rects.text, model);\n\n\t\tctx.restore();\n\t}\n});\n\nvar helpers$2 = Chart.helpers;\n\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\nfunction rotated(point, center, angle) {\n\tvar cos = Math.cos(angle);\n\tvar sin = Math.sin(angle);\n\tvar cx = center.x;\n\tvar cy = center.y;\n\n\treturn {\n\t\tx: cx + cos * (point.x - cx) - sin * (point.y - cy),\n\t\ty: cy + sin * (point.x - cx) + cos * (point.y - cy)\n\t};\n}\n\nfunction projected(points, axis) {\n\tvar min = MAX_INTEGER;\n\tvar max = MIN_INTEGER;\n\tvar origin = axis.origin;\n\tvar i, pt, vx, vy, dp;\n\n\tfor (i = 0; i < points.length; ++i) {\n\t\tpt = points[i];\n\t\tvx = pt.x - origin.x;\n\t\tvy = pt.y - origin.y;\n\t\tdp = axis.vx * vx + axis.vy * vy;\n\t\tmin = Math.min(min, dp);\n\t\tmax = Math.max(max, dp);\n\t}\n\n\treturn {\n\t\tmin: min,\n\t\tmax: max\n\t};\n}\n\nfunction toAxis(p0, p1) {\n\tvar vx = p1.x - p0.x;\n\tvar vy = p1.y - p0.y;\n\tvar ln = Math.sqrt(vx * vx + vy * vy);\n\n\treturn {\n\t\tvx: (p1.x - p0.x) / ln,\n\t\tvy: (p1.y - p0.y) / ln,\n\t\torigin: p0,\n\t\tln: ln\n\t};\n}\n\nvar HitBox = function() {\n\tthis._rotation = 0;\n\tthis._rect = {\n\t\tx: 0,\n\t\ty: 0,\n\t\tw: 0,\n\t\th: 0\n\t};\n};\n\nhelpers$2.extend(HitBox.prototype, {\n\tcenter: function() {\n\t\tvar r = this._rect;\n\t\treturn {\n\t\t\tx: r.x + r.w / 2,\n\t\t\ty: r.y + r.h / 2\n\t\t};\n\t},\n\n\tupdate: function(center, rect, rotation) {\n\t\tthis._rotation = rotation;\n\t\tthis._rect = {\n\t\t\tx: rect.x + center.x,\n\t\t\ty: rect.y + center.y,\n\t\t\tw: rect.w,\n\t\t\th: rect.h\n\t\t};\n\t},\n\n\tcontains: function(point) {\n\t\tvar me = this;\n\t\tvar margin = 1;\n\t\tvar rect = me._rect;\n\n\t\tpoint = rotated(point, me.center(), -me._rotation);\n\n\t\treturn !(point.x < rect.x - margin\n\t\t\t|| point.y < rect.y - margin\n\t\t\t|| point.x > rect.x + rect.w + margin * 2\n\t\t\t|| point.y > rect.y + rect.h + margin * 2);\n\t},\n\n\t// Separating Axis Theorem\n\t// https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n\tintersects: function(other) {\n\t\tvar r0 = this._points();\n\t\tvar r1 = other._points();\n\t\tvar axes = [\n\t\t\ttoAxis(r0[0], r0[1]),\n\t\t\ttoAxis(r0[0], r0[3])\n\t\t];\n\t\tvar i, pr0, pr1;\n\n\t\tif (this._rotation !== other._rotation) {\n\t\t\t// Only separate with r1 axis if the rotation is different,\n\t\t\t// else it's enough to separate r0 and r1 with r0 axis only!\n\t\t\taxes.push(\n\t\t\t\ttoAxis(r1[0], r1[1]),\n\t\t\t\ttoAxis(r1[0], r1[3])\n\t\t\t);\n\t\t}\n\n\t\tfor (i = 0; i < axes.length; ++i) {\n\t\t\tpr0 = projected(r0, axes[i]);\n\t\t\tpr1 = projected(r1, axes[i]);\n\n\t\t\tif (pr0.max < pr1.min || pr1.max < pr0.min) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * @private\n\t */\n\t_points: function() {\n\t\tvar me = this;\n\t\tvar rect = me._rect;\n\t\tvar angle = me._rotation;\n\t\tvar center = me.center();\n\n\t\treturn [\n\t\t\trotated({x: rect.x, y: rect.y}, center, angle),\n\t\t\trotated({x: rect.x + rect.w, y: rect.y}, center, angle),\n\t\t\trotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\n\t\t\trotated({x: rect.x, y: rect.y + rect.h}, center, angle)\n\t\t];\n\t}\n});\n\nfunction coordinates(view, model, geometry) {\n\tvar point = model.positioner(view, model);\n\tvar vx = point.vx;\n\tvar vy = point.vy;\n\n\tif (!vx && !vy) {\n\t\t// if aligned center, we don't want to offset the center point\n\t\treturn {x: point.x, y: point.y};\n\t}\n\n\tvar w = geometry.w;\n\tvar h = geometry.h;\n\n\t// take in account the label rotation\n\tvar rotation = model.rotation;\n\tvar dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n\tvar dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n\t// scale the unit vector (vx, vy) to get at least dx or dy equal to\n\t// w or h respectively (else we would calculate the distance to the\n\t// ellipse inscribed in the bounding rect)\n\tvar vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n\tdx *= vx * vs;\n\tdy *= vy * vs;\n\n\t// finally, include the explicit offset\n\tdx += model.offset * vx;\n\tdy += model.offset * vy;\n\n\treturn {\n\t\tx: point.x + dx,\n\t\ty: point.y + dy\n\t};\n}\n\nfunction collide(labels, collider) {\n\tvar i, j, s0, s1;\n\n\t// IMPORTANT Iterate in the reverse order since items at the end of the\n\t// list have an higher weight/priority and thus should be less impacted\n\t// by the overlapping strategy.\n\n\tfor (i = labels.length - 1; i >= 0; --i) {\n\t\ts0 = labels[i].$layout;\n\n\t\tfor (j = i - 1; j >= 0 && s0._visible; --j) {\n\t\t\ts1 = labels[j].$layout;\n\n\t\t\tif (s1._visible && s0._box.intersects(s1._box)) {\n\t\t\t\tcollider(s0, s1);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn labels;\n}\n\nfunction compute$1(labels) {\n\tvar i, ilen, label, state, geometry, center;\n\n\t// Initialize labels for overlap detection\n\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\tlabel = labels[i];\n\t\tstate = label.$layout;\n\n\t\tif (state._visible) {\n\t\t\tgeometry = label.geometry();\n\t\t\tcenter = coordinates(label._el._model, label.model(), geometry);\n\t\t\tstate._box.update(center, geometry, label.rotation());\n\t\t}\n\t}\n\n\t// Auto hide overlapping labels\n\treturn collide(labels, function(s0, s1) {\n\t\tvar h0 = s0._hidable;\n\t\tvar h1 = s1._hidable;\n\n\t\tif ((h0 && h1) || h1) {\n\t\t\ts1._visible = false;\n\t\t} else if (h0) {\n\t\t\ts0._visible = false;\n\t\t}\n\t});\n}\n\nvar layout = {\n\tprepare: function(datasets) {\n\t\tvar labels = [];\n\t\tvar i, j, ilen, jlen, label;\n\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\n\t\t\tfor (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n\t\t\t\tlabel = datasets[i][j];\n\t\t\t\tlabels.push(label);\n\t\t\t\tlabel.$layout = {\n\t\t\t\t\t_box: new HitBox(),\n\t\t\t\t\t_hidable: false,\n\t\t\t\t\t_visible: true,\n\t\t\t\t\t_set: i,\n\t\t\t\t\t_idx: j\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// TODO New `z` option: labels with a higher z-index are drawn\n\t\t// of top of the ones with a lower index. Lowest z-index labels\n\t\t// are also discarded first when hiding overlapping labels.\n\t\tlabels.sort(function(a, b) {\n\t\t\tvar sa = a.$layout;\n\t\t\tvar sb = b.$layout;\n\n\t\t\treturn sa._idx === sb._idx\n\t\t\t\t? sa._set - sb._set\n\t\t\t\t: sb._idx - sa._idx;\n\t\t});\n\n\t\tthis.update(labels);\n\n\t\treturn labels;\n\t},\n\n\tupdate: function(labels) {\n\t\tvar dirty = false;\n\t\tvar i, ilen, label, model, state;\n\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\t\tlabel = labels[i];\n\t\t\tmodel = label.model();\n\t\t\tstate = label.$layout;\n\t\t\tstate._hidable = model && model.display === 'auto';\n\t\t\tstate._visible = label.visible();\n\t\t\tdirty |= state._hidable;\n\t\t}\n\n\t\tif (dirty) {\n\t\t\tcompute$1(labels);\n\t\t}\n\t},\n\n\tlookup: function(labels, point) {\n\t\tvar i, state;\n\n\t\t// IMPORTANT Iterate in the reverse order since items at the end of\n\t\t// the list have an higher z-index, thus should be picked first.\n\n\t\tfor (i = labels.length - 1; i >= 0; --i) {\n\t\t\tstate = labels[i].$layout;\n\n\t\t\tif (state && state._visible && state._box.contains(point)) {\n\t\t\t\treturn {\n\t\t\t\t\tdataset: state._set,\n\t\t\t\t\tlabel: labels[i]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tdraw: function(chart, labels) {\n\t\tvar i, ilen, label, state, geometry, center;\n\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\t\tlabel = labels[i];\n\t\t\tstate = label.$layout;\n\n\t\t\tif (state._visible) {\n\t\t\t\tgeometry = label.geometry();\n\t\t\t\tcenter = coordinates(label._el._view, label.model(), geometry);\n\t\t\t\tstate._box.update(center, geometry, label.rotation());\n\t\t\t\tlabel.draw(chart, center);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar helpers$3 = Chart.helpers;\n\nvar formatter = function(value) {\n\tif (helpers$3.isNullOrUndef(value)) {\n\t\treturn null;\n\t}\n\n\tvar label = value;\n\tvar keys, klen, k;\n\tif (helpers$3.isObject(value)) {\n\t\tif (!helpers$3.isNullOrUndef(value.label)) {\n\t\t\tlabel = value.label;\n\t\t} else if (!helpers$3.isNullOrUndef(value.r)) {\n\t\t\tlabel = value.r;\n\t\t} else {\n\t\t\tlabel = '';\n\t\t\tkeys = Object.keys(value);\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\n\t\t\t\tlabel += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn '' + label;\n};\n\n/**\n * IMPORTANT: make sure to also update tests and TypeScript definition\n * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n */\n\nvar defaults = {\n\talign: 'center',\n\tanchor: 'center',\n\tbackgroundColor: null,\n\tborderColor: null,\n\tborderRadius: 0,\n\tborderWidth: 0,\n\tclamp: false,\n\tclip: false,\n\tcolor: undefined,\n\tdisplay: true,\n\tfont: {\n\t\tfamily: undefined,\n\t\tlineHeight: 1.2,\n\t\tsize: undefined,\n\t\tstyle: undefined,\n\t\tweight: null\n\t},\n\tformatter: formatter,\n\tlisteners: {},\n\toffset: 4,\n\topacity: 1,\n\tpadding: {\n\t\ttop: 4,\n\t\tright: 4,\n\t\tbottom: 4,\n\t\tleft: 4\n\t},\n\trotation: 0,\n\ttextAlign: 'start',\n\ttextStrokeColor: undefined,\n\ttextStrokeWidth: 0,\n\ttextShadowBlur: 0,\n\ttextShadowColor: undefined\n};\n\n/**\n * @see https://github.com/chartjs/Chart.js/issues/4176\n */\n\nvar helpers$4 = Chart.helpers;\nvar EXPANDO_KEY = '$datalabels';\n\nfunction configure(dataset, options) {\n\tvar override = dataset.datalabels;\n\tvar config = {};\n\n\tif (override === false) {\n\t\treturn null;\n\t}\n\tif (override === true) {\n\t\toverride = {};\n\t}\n\n\treturn helpers$4.merge(config, [options, override]);\n}\n\nfunction dispatchEvent(chart, listeners, target) {\n\tvar callback = listeners && listeners[target.dataset];\n\tif (!callback) {\n\t\treturn;\n\t}\n\n\tvar label = target.label;\n\tvar context = label.$context;\n\n\tif (helpers$4.callback(callback, [context]) === true) {\n\t\t// Users are allowed to tweak the given context by injecting values that can be\n\t\t// used in scriptable options to display labels differently based on the current\n\t\t// event (e.g. highlight an hovered label). That's why we update the label with\n\t\t// the output context and schedule a new chart render by setting it dirty.\n\t\tchart[EXPANDO_KEY]._dirty = true;\n\t\tlabel.update(context);\n\t}\n}\n\nfunction dispatchMoveEvents(chart, listeners, previous, target) {\n\tvar enter, leave;\n\n\tif (!previous && !target) {\n\t\treturn;\n\t}\n\n\tif (!previous) {\n\t\tenter = true;\n\t} else if (!target) {\n\t\tleave = true;\n\t} else if (previous.label !== target.label) {\n\t\tleave = enter = true;\n\t}\n\n\tif (leave) {\n\t\tdispatchEvent(chart, listeners.leave, previous);\n\t}\n\tif (enter) {\n\t\tdispatchEvent(chart, listeners.enter, target);\n\t}\n}\n\nfunction handleMoveEvents(chart, event) {\n\tvar expando = chart[EXPANDO_KEY];\n\tvar listeners = expando._listeners;\n\tvar previous, target;\n\n\tif (!listeners.enter && !listeners.leave) {\n\t\treturn;\n\t}\n\n\tif (event.type === 'mousemove') {\n\t\ttarget = layout.lookup(expando._labels, event);\n\t} else if (event.type !== 'mouseout') {\n\t\treturn;\n\t}\n\n\tprevious = expando._hovered;\n\texpando._hovered = target;\n\tdispatchMoveEvents(chart, listeners, previous, target);\n}\n\nfunction handleClickEvents(chart, event) {\n\tvar expando = chart[EXPANDO_KEY];\n\tvar handlers = expando._listeners.click;\n\tvar target = handlers && layout.lookup(expando._labels, event);\n\tif (target) {\n\t\tdispatchEvent(chart, handlers, target);\n\t}\n}\n\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/108\nfunction invalidate(chart) {\n\tif (chart.animating) {\n\t\treturn;\n\t}\n\n\t// `chart.animating` can be `false` even if there is animation in progress,\n\t// so let's iterate all animations to find if there is one for the `chart`.\n\tvar animations = Chart.animationService.animations;\n\tfor (var i = 0, ilen = animations.length; i < ilen; ++i) {\n\t\tif (animations[i].chart === chart) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// No render scheduled: trigger a \"lazy\" render that can be canceled in case\n\t// of hover interactions. The 1ms duration is a workaround to make sure an\n\t// animation is created so the controller can stop it before any transition.\n\tchart.render({duration: 1, lazy: true});\n}\n\nChart.defaults.global.plugins.datalabels = defaults;\n\nvar plugin = {\n\tid: 'datalabels',\n\n\tbeforeInit: function(chart) {\n\t\tchart[EXPANDO_KEY] = {\n\t\t\t_actives: []\n\t\t};\n\t},\n\n\tbeforeUpdate: function(chart) {\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\texpando._listened = false;\n\t\texpando._listeners = {};     // {event-type: {dataset-index: function}}\n\t\texpando._datasets = [];      // per dataset labels: [[Label]]\n\t\texpando._labels = [];        // layouted labels: [Label]\n\t},\n\n\tafterDatasetUpdate: function(chart, args, options) {\n\t\tvar datasetIndex = args.index;\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\tvar labels = expando._datasets[datasetIndex] = [];\n\t\tvar visible = chart.isDatasetVisible(datasetIndex);\n\t\tvar dataset = chart.data.datasets[datasetIndex];\n\t\tvar config = configure(dataset, options);\n\t\tvar elements = args.meta.data || [];\n\t\tvar ilen = elements.length;\n\t\tvar ctx = chart.ctx;\n\t\tvar i, el, label;\n\n\t\tctx.save();\n\n\t\tfor (i = 0; i < ilen; ++i) {\n\t\t\tel = elements[i];\n\n\t\t\tif (visible && el && !el.hidden && !el._model.skip) {\n\t\t\t\tlabels.push(label = new Label(config, ctx, el, i));\n\t\t\t\tlabel.update(label.$context = {\n\t\t\t\t\tactive: false,\n\t\t\t\t\tchart: chart,\n\t\t\t\t\tdataIndex: i,\n\t\t\t\t\tdataset: dataset,\n\t\t\t\t\tdatasetIndex: datasetIndex\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlabel = null;\n\t\t\t}\n\n\t\t\tel[EXPANDO_KEY] = label;\n\t\t}\n\n\t\tctx.restore();\n\n\t\t// Store listeners at the chart level and per event type to optimize\n\t\t// cases where no listeners are registered for a specific event\n\t\thelpers$4.merge(expando._listeners, config.listeners || {}, {\n\t\t\tmerger: function(key, target, source) {\n\t\t\t\ttarget[key] = target[key] || {};\n\t\t\t\ttarget[key][args.index] = source[key];\n\t\t\t\texpando._listened = true;\n\t\t\t}\n\t\t});\n\t},\n\n\tafterUpdate: function(chart, options) {\n\t\tchart[EXPANDO_KEY]._labels = layout.prepare(\n\t\t\tchart[EXPANDO_KEY]._datasets,\n\t\t\toptions);\n\t},\n\n\t// Draw labels on top of all dataset elements\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n\tafterDatasetsDraw: function(chart) {\n\t\tlayout.draw(chart, chart[EXPANDO_KEY]._labels);\n\t},\n\n\tbeforeEvent: function(chart, event) {\n\t\t// If there is no listener registered for this chart, `listened` will be false,\n\t\t// meaning we can immediately ignore the incoming event and avoid useless extra\n\t\t// computation for users who don't implement label interactions.\n\t\tif (chart[EXPANDO_KEY]._listened) {\n\t\t\tswitch (event.type) {\n\t\t\tcase 'mousemove':\n\t\t\tcase 'mouseout':\n\t\t\t\thandleMoveEvents(chart, event);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\thandleClickEvents(chart, event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t}\n\t\t}\n\t},\n\n\tafterEvent: function(chart) {\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\tvar previous = expando._actives;\n\t\tvar actives = expando._actives = chart.lastActive || [];  // public API?!\n\t\tvar updates = utils.arrayDiff(previous, actives);\n\t\tvar i, ilen, update, label;\n\n\t\tfor (i = 0, ilen = updates.length; i < ilen; ++i) {\n\t\t\tupdate = updates[i];\n\t\t\tif (update[1]) {\n\t\t\t\tlabel = update[0][EXPANDO_KEY];\n\t\t\t\tif (label) {\n\t\t\t\t\tlabel.$context.active = (update[1] === 1);\n\t\t\t\t\tlabel.update(label.$context);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (expando._dirty || updates.length) {\n\t\t\tlayout.update(expando._labels);\n\t\t\tinvalidate(chart);\n\t\t}\n\n\t\tdelete expando._dirty;\n\t}\n};\n\n// TODO Remove at version 1, we shouldn't automatically register plugins.\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/42\nChart.plugins.register(plugin);\n\nreturn plugin;\n\n}));\n","// Line Annotation implementation\nmodule.exports = function(Chart) {\n\tvar chartHelpers = Chart.helpers;\n\tvar helpers = require('../helpers.js')(Chart);\n\n\tvar horizontalKeyword = 'horizontal';\n\tvar verticalKeyword = 'vertical';\n\n\tvar LineAnnotation = Chart.Annotation.Element.extend({\n\t\tsetDataLimits: function() {\n\t\t\tvar model = this._model;\n\t\t\tvar options = this.options;\n\n\t\t\t// Set the data range for this annotation\n\t\t\tmodel.ranges = {};\n\t\t\tmodel.ranges[options.scaleID] = {\n\t\t\t\tmin: options.value,\n\t\t\t\tmax: options.endValue || options.value\n\t\t\t};\n\t\t},\n\t\tconfigure: function() {\n\t\t\tvar model = this._model;\n\t\t\tvar options = this.options;\n\t\t\tvar chartInstance = this.chartInstance;\n\t\t\tvar ctx = chartInstance.chart.ctx;\n\n\t\t\tvar scale = chartInstance.scales[options.scaleID];\n\t\t\tvar pixel, endPixel;\n\t\t\tif (scale) {\n\t\t\t\tpixel = helpers.isValid(options.value) ? scale.getPixelForValue(options.value) : NaN;\n\t\t\t\tendPixel = helpers.isValid(options.endValue) ? scale.getPixelForValue(options.endValue) : pixel;\n\t\t\t}\n\n\t\t\tif (isNaN(pixel)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar chartArea = chartInstance.chartArea;\n\n\t\t\t// clip annotations to the chart area\n\t\t\tmodel.clip = {\n\t\t\t\tx1: chartArea.left,\n\t\t\t\tx2: chartArea.right,\n\t\t\t\ty1: chartArea.top,\n\t\t\t\ty2: chartArea.bottom\n\t\t\t};\n\n\t\t\tif (this.options.mode == horizontalKeyword) {\n\t\t\t\tmodel.x1 = chartArea.left;\n\t\t\t\tmodel.x2 = chartArea.right;\n\t\t\t\tmodel.y1 = pixel;\n\t\t\t\tmodel.y2 = endPixel;\n\t\t\t} else {\n\t\t\t\tmodel.y1 = chartArea.top;\n\t\t\t\tmodel.y2 = chartArea.bottom;\n\t\t\t\tmodel.x1 = pixel;\n\t\t\t\tmodel.x2 = endPixel;\n\t\t\t}\n\n\t\t\tmodel.line = new LineFunction(model);\n\t\t\tmodel.mode = options.mode;\n\n\t\t\t// Figure out the label:\n\t\t\tmodel.labelBackgroundColor = options.label.backgroundColor;\n\t\t\tmodel.labelFontFamily = options.label.fontFamily;\n\t\t\tmodel.labelFontSize = options.label.fontSize;\n\t\t\tmodel.labelFontStyle = options.label.fontStyle;\n\t\t\tmodel.labelFontColor = options.label.fontColor;\n\t\t\tmodel.labelXPadding = options.label.xPadding;\n\t\t\tmodel.labelYPadding = options.label.yPadding;\n\t\t\tmodel.labelCornerRadius = options.label.cornerRadius;\n\t\t\tmodel.labelPosition = options.label.position;\n\t\t\tmodel.labelXAdjust = options.label.xAdjust;\n\t\t\tmodel.labelYAdjust = options.label.yAdjust;\n\t\t\tmodel.labelEnabled = options.label.enabled;\n\t\t\tmodel.labelContent = options.label.content;\n\n\t\t\tctx.font = chartHelpers.fontString(model.labelFontSize, model.labelFontStyle, model.labelFontFamily);\n\t\t\tvar textWidth = ctx.measureText(model.labelContent).width;\n\t\t\tvar textHeight = ctx.measureText('M').width;\n\t\t\tvar labelPosition = calculateLabelPosition(model, textWidth, textHeight, model.labelXPadding, model.labelYPadding);\n\t\t\tmodel.labelX = labelPosition.x - model.labelXPadding;\n\t\t\tmodel.labelY = labelPosition.y - model.labelYPadding;\n\t\t\tmodel.labelWidth = textWidth + (2 * model.labelXPadding);\n\t\t\tmodel.labelHeight = textHeight + (2 * model.labelYPadding);\n\n\t\t\tmodel.borderColor = options.borderColor;\n\t\t\tmodel.borderWidth = options.borderWidth;\n\t\t\tmodel.borderDash = options.borderDash || [];\n\t\t\tmodel.borderDashOffset = options.borderDashOffset || 0;\n\t\t},\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar model = this._model;\n\t\t\t\n\t\t\treturn (\n\t\t\t\t// On the line\n\t\t\t\tmodel.line &&\n\t\t\t\tmodel.line.intersects(mouseX, mouseY, this.getHeight())\n\t\t\t) || (\n\t\t\t\t// On the label\n\t\t\t\tmodel.labelEnabled &&\n\t\t\t\tmodel.labelContent &&\n\t\t\t\tmouseX >= model.labelX && \n\t\t\t\tmouseX <= model.labelX + model.labelWidth && \n\t\t\t\tmouseY >= model.labelY && \n\t\t\t\tmouseY <= model.labelY + model.labelHeight\n\t\t\t);\n\t\t},\n\t\tgetCenterPoint: function() {\n\t\t\treturn {\n\t\t\t\tx: (this._model.x2 + this._model.x1) / 2,\n\t\t\t\ty: (this._model.y2 + this._model.y1) / 2\n\t\t\t};\n\t\t},\n\t\tgetWidth: function() {\n\t\t\treturn Math.abs(this._model.right - this._model.left);\n\t\t},\n\t\tgetHeight: function() {\n\t\t\treturn this._model.borderWidth || 1;\n\t\t},\n\t\tgetArea: function() {\n\t\t\treturn Math.sqrt(Math.pow(this.getWidth(), 2) + Math.pow(this.getHeight(), 2));\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar view = this._view;\n\t\t\tvar ctx = this.chartInstance.chart.ctx;\n\n\t\t\tif (!view.clip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.save();\n\n\t\t\t// Canvas setup\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(view.clip.x1, view.clip.y1, view.clip.x2 - view.clip.x1, view.clip.y2 - view.clip.y1);\n\t\t\tctx.clip();\n\n\t\t\tctx.lineWidth = view.borderWidth;\n\t\t\tctx.strokeStyle = view.borderColor;\n\n\t\t\tif (ctx.setLineDash) {\n\t\t\t\tctx.setLineDash(view.borderDash);\n\t\t\t}\n\t\t\tctx.lineDashOffset = view.borderDashOffset;\n\n\t\t\t// Draw\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(view.x1, view.y1);\n\t\t\tctx.lineTo(view.x2, view.y2);\n\t\t\tctx.stroke();\n\n\t\t\tif (view.labelEnabled && view.labelContent) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(view.clip.x1, view.clip.y1, view.clip.x2 - view.clip.x1, view.clip.y2 - view.clip.y1);\n\t\t\t\tctx.clip();\n\n\t\t\t\tctx.fillStyle = view.labelBackgroundColor;\n\t\t\t\t// Draw the tooltip\n\t\t\t\tchartHelpers.drawRoundedRectangle(\n\t\t\t\t\tctx,\n\t\t\t\t\tview.labelX, // x\n\t\t\t\t\tview.labelY, // y\n\t\t\t\t\tview.labelWidth, // width\n\t\t\t\t\tview.labelHeight, // height\n\t\t\t\t\tview.labelCornerRadius // radius\n\t\t\t\t);\n\t\t\t\tctx.fill();\n\n\t\t\t\t// Draw the text\n\t\t\t\tctx.font = chartHelpers.fontString(\n\t\t\t\t\tview.labelFontSize,\n\t\t\t\t\tview.labelFontStyle,\n\t\t\t\t\tview.labelFontFamily\n\t\t\t\t);\n\t\t\t\tctx.fillStyle = view.labelFontColor;\n\t\t\t\tctx.textAlign = 'center';\n\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\tctx.fillText(\n\t\t\t\t\tview.labelContent,\n\t\t\t\t\tview.labelX + (view.labelWidth / 2),\n\t\t\t\t\tview.labelY + (view.labelHeight / 2)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tctx.restore();\n\t\t}\n\t});\n\n\tfunction LineFunction(view) {\n\t\t// Describe the line in slope-intercept form (y = mx + b).\n\t\t// Note that the axes are rotated 90° CCW, which causes the\n\t\t// x- and y-axes to be swapped.\n\t\tvar m = (view.x2 - view.x1) / (view.y2 - view.y1);\n\t\tvar b = view.x1 || 0;\n\n\t\tthis.m = m;\n\t\tthis.b = b;\n\n\t\tthis.getX = function(y) {\n\t\t\t// Coordinates are relative to the origin of the canvas\n\t\t\treturn m * (y - view.y1) + b;\n\t\t};\n\n\t\tthis.getY = function(x) {\n\t\t\treturn ((x - b) / m) + view.y1;\n\t\t};\n\n\t\tthis.intersects = function(x, y, epsilon) {\n\t\t\tepsilon = epsilon || 0.001;\n\t\t\tvar dy = this.getY(x),\n\t\t\t\tdx = this.getX(y);\n\t\t\treturn (\n\t\t\t\t(!isFinite(dy) || Math.abs(y - dy) < epsilon) &&\n\t\t\t\t(!isFinite(dx) || Math.abs(x - dx) < epsilon)\n\t\t\t);\n\t\t};\n\t}\n\n\tfunction calculateLabelPosition(view, width, height, padWidth, padHeight) {\n\t\tvar line = view.line;\n\t\tvar ret = {}, xa = 0, ya = 0;\n\n\t\tswitch (true) {\n\t\t\t// top align\n\t\t\tcase view.mode == verticalKeyword && view.labelPosition == \"top\":\n\t\t\t\tya = padHeight + view.labelYAdjust;\n\t\t\t\txa = (width / 2) + view.labelXAdjust;\n\t\t\t\tret.y = view.y1 + ya;\n\t\t\t\tret.x = (isFinite(line.m) ? line.getX(ret.y) : view.x1) - xa;\n\t\t\tbreak;\n\n\t\t\t// bottom align\n\t\t\tcase view.mode == verticalKeyword && view.labelPosition == \"bottom\":\n\t\t\t\tya = height + padHeight + view.labelYAdjust;\n\t\t\t\txa = (width / 2) + view.labelXAdjust;\n\t\t\t\tret.y = view.y2 - ya;\n\t\t\t\tret.x = (isFinite(line.m) ? line.getX(ret.y) : view.x1) - xa;\n\t\t\tbreak;\n\n\t\t\t// left align\n\t\t\tcase view.mode == horizontalKeyword && view.labelPosition == \"left\":\n\t\t\t\txa = padWidth + view.labelXAdjust;\n\t\t\t\tya = -(height / 2) + view.labelYAdjust;\n\t\t\t\tret.x = view.x1 + xa;\n\t\t\t\tret.y = line.getY(ret.x) + ya;\n\t\t\tbreak;\n\n\t\t\t// right align\n\t\t\tcase view.mode == horizontalKeyword && view.labelPosition == \"right\":\n\t\t\t\txa = width + padWidth + view.labelXAdjust;\n\t\t\t\tya = -(height / 2) + view.labelYAdjust;\n\t\t\t\tret.x = view.x2 - xa;\n\t\t\t\tret.y = line.getY(ret.x) + ya;\n\t\t\tbreak;\n\n\t\t\t// center align\n\t\t\tdefault:\n\t\t\t\tret.x = ((view.x1 + view.x2 - width) / 2) + view.labelXAdjust;\n\t\t\t\tret.y = ((view.y1 + view.y2 - height) / 2) + view.labelYAdjust;\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\treturn LineAnnotation;\n};\n","function noop() {}\n\nfunction elements(chartInstance) {\n\t// Turn the elements object into an array of elements\n\tvar elements = chartInstance.annotation.elements;\n\treturn Object.keys(elements).map(function(id) {\n\t\treturn elements[id];\n\t});\n}\n\nfunction objectId() {\n\treturn Math.random().toString(36).substr(2, 6);\n}\n\nfunction isValid(rawValue) {\n\tif (rawValue === null || typeof rawValue === 'undefined') {\n\t\treturn false;\n\t} else if (typeof rawValue === 'number') {\n\t\treturn isFinite(rawValue);\n\t} else {\n\t\treturn !!rawValue;\n\t}\n}\n\nfunction decorate(obj, prop, func) {\n\tvar prefix = '$';\n\tif (!obj[prefix + prop]) {\n\t\tif (obj[prop]) {\n\t\t\tobj[prefix + prop] = obj[prop].bind(obj);\n\t\t\tobj[prop] = function() {\n\t\t\t\tvar args = [ obj[prefix + prop] ].concat(Array.prototype.slice.call(arguments));\n\t\t\t\treturn func.apply(obj, args);\n\t\t\t};\n\t\t} else {\n\t\t\tobj[prop] = function() {\n\t\t\t\tvar args = [ undefined ].concat(Array.prototype.slice.call(arguments));\n\t\t\t\treturn func.apply(obj, args);\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction callEach(fns, method) {\n\tfns.forEach(function(fn) {\n\t\t(method ? fn[method] : fn)();\n\t});\n}\n\nfunction getEventHandlerName(eventName) {\n\treturn 'on' + eventName[0].toUpperCase() + eventName.substring(1);\n}\n\nfunction createMouseEvent(type, previousEvent) {\n\ttry {\n\t\treturn new MouseEvent(type, previousEvent);\n\t} catch (exception) {\n\t\ttry {\n\t\t\tvar m = document.createEvent('MouseEvent');\n\t\t\tm.initMouseEvent(\n\t\t\t\ttype,\n\t\t\t\tpreviousEvent.canBubble,\n\t\t\t\tpreviousEvent.cancelable,\n\t\t\t\tpreviousEvent.view,\n\t\t\t\tpreviousEvent.detail,\n\t\t\t\tpreviousEvent.screenX,\n\t\t\t\tpreviousEvent.screenY,\n\t\t\t\tpreviousEvent.clientX,\n\t\t\t\tpreviousEvent.clientY,\n\t\t\t\tpreviousEvent.ctrlKey,\n\t\t\t\tpreviousEvent.altKey,\n\t\t\t\tpreviousEvent.shiftKey,\n\t\t\t\tpreviousEvent.metaKey,\n\t\t\t\tpreviousEvent.button,\n\t\t\t\tpreviousEvent.relatedTarget\n\t\t\t);\n\t\t\treturn m;\n\t\t} catch (exception2) {\n\t\t\tvar e = document.createEvent('Event');\n\t\t\te.initEvent(\n\t\t\t\ttype,\n\t\t\t\tpreviousEvent.canBubble,\n\t\t\t\tpreviousEvent.cancelable\n\t\t\t);\n\t\t\treturn e;\n\t\t}\n\t}\n}\n\nmodule.exports = function(Chart) {\n\tvar chartHelpers = Chart.helpers;\n\n\tfunction initConfig(config) {\n\t\tconfig = chartHelpers.configMerge(Chart.Annotation.defaults, config);\n\t\tif (chartHelpers.isArray(config.annotations)) {\n\t\t\tconfig.annotations.forEach(function(annotation) {\n\t\t\t\tannotation.label = chartHelpers.configMerge(Chart.Annotation.labelDefaults, annotation.label);\n\t\t\t});\n\t\t}\n\t\treturn config;\n\t}\n\n\tfunction getScaleLimits(scaleId, annotations, scaleMin, scaleMax) {\n\t\tvar ranges = annotations.filter(function(annotation) {\n\t\t\treturn !!annotation._model.ranges[scaleId];\n\t\t}).map(function(annotation) {\n\t\t\treturn annotation._model.ranges[scaleId];\n\t\t});\n\n\t\tvar min = ranges.map(function(range) {\n\t\t\treturn Number(range.min);\n\t\t}).reduce(function(a, b) {\n\t\t\treturn isFinite(b) && !isNaN(b) && b < a ? b : a;\n\t\t}, scaleMin);\n\n\t\tvar max = ranges.map(function(range) {\n\t\t\treturn Number(range.max);\n\t\t}).reduce(function(a, b) {\n\t\t\treturn isFinite(b) && !isNaN(b) && b > a ? b : a;\n\t\t}, scaleMax);\n\n\t\treturn {\n\t\t\tmin: min,\n\t\t\tmax: max\n\t\t};\n\t}\n\n\tfunction adjustScaleRange(scale) {\n\t\t// Adjust the scale range to include annotation values\n\t\tvar range = getScaleLimits(scale.id, elements(scale.chart), scale.min, scale.max);\n\t\tif (typeof scale.options.ticks.min === 'undefined' && typeof scale.options.ticks.suggestedMin === 'undefined') {\n\t\t\tscale.min = range.min;\n\t\t}\n\t\tif (typeof scale.options.ticks.max === 'undefined' && typeof scale.options.ticks.suggestedMax === 'undefined') {\n\t\t\tscale.max = range.max;\n\t\t}\n\t\tif (scale.handleTickRangeOptions) {\n\t\t\tscale.handleTickRangeOptions();\n\t\t}\n\t}\n\n\tfunction getNearestItems(annotations, position) {\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\n\n\t\treturn annotations\n\t\t\t.filter(function(element) {\n\t\t\t\treturn element.inRange(position.x, position.y);\n\t\t\t})\n\t\t\t.reduce(function(nearestItems, element) {\n\t\t\t\tvar center = element.getCenterPoint();\n\t\t\t\tvar distance = chartHelpers.distanceBetweenPoints(position, center);\n\n\t\t\t\tif (distance < minDistance) {\n\t\t\t\t\tnearestItems = [element];\n\t\t\t\t\tminDistance = distance;\n\t\t\t\t} else if (distance === minDistance) {\n\t\t\t\t\t// Can have multiple items at the same distance in which case we sort by size\n\t\t\t\t\tnearestItems.push(element);\n\t\t\t\t}\n\n\t\t\t\treturn nearestItems;\n\t\t\t}, [])\n\t\t\t.sort(function(a, b) {\n\t\t\t\t// If there are multiple elements equally close,\n\t\t\t\t// sort them by size, then by index\n\t\t\t\tvar sizeA = a.getArea(), sizeB = b.getArea();\n\t\t\t\treturn (sizeA > sizeB || sizeA < sizeB) ? sizeA - sizeB : a._index - b._index;\n\t\t\t})\n\t\t\t.slice(0, 1)[0]; // return only the top item\n\t}\n\n\treturn {\n\t\tinitConfig: initConfig,\n\t\telements: elements,\n\t\tcallEach: callEach,\n\t\tnoop: noop,\n\t\tobjectId: objectId,\n\t\tisValid: isValid,\n\t\tdecorate: decorate,\n\t\tadjustScaleRange: adjustScaleRange,\n\t\tgetNearestItems: getNearestItems,\n\t\tgetEventHandlerName: getEventHandlerName,\n\t\tcreateMouseEvent: createMouseEvent\n\t};\n};\n\n","module.exports = function(Chart) {\n\tvar chartHelpers = Chart.helpers;\n\t\n\tvar AnnotationElement = Chart.Element.extend({\n\t\tinitialize: function() {\n\t\t\tthis.hidden = false;\n\t\t\tthis.hovering = false;\n\t\t\tthis._model = chartHelpers.clone(this._model) || {};\n\t\t\tthis.setDataLimits();\n\t\t},\n\t\tdestroy: function() {},\n\t\tsetDataLimits: function() {},\n\t\tconfigure: function() {},\n\t\tinRange: function() {},\n\t\tgetCenterPoint: function() {},\n\t\tgetWidth: function() {},\n\t\tgetHeight: function() {},\n\t\tgetArea: function() {},\n\t\tdraw: function() {}\n\t});\n\n\treturn AnnotationElement;\n};\n"],"sourceRoot":""}